(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},53555,e=>{"use strict";var t=e.i(47167),r=e.i(43476),a=e.i(71645);class s extends Error{status;type;constructor(e,t,r="http"){super(e),this.status=t,this.type=r}}function n(e,t){let r=e.endsWith("/")?e.slice(0,-1):e;return`${r}${t}`}async function i(e){let t=await fetch(n(e,"/openapi.json"),{method:"GET",cache:"no-store"});if(!t.ok)return!1;let r=await t.json();return!!r.paths?.["/api/v1/saju/preview"]}async function l(e,t,r){let a;try{a=await fetch(n(e,"/api/v1/saju/preview"),{method:"POST",headers:{"Content-Type":"application/json","Accept-Language":r},body:JSON.stringify(t)})}catch{throw new s("Network error while requesting saju preview.",void 0,"network")}if(!a.ok){let e=`Request failed with status ${a.status}.`;try{let t=await a.json();t?.detail&&(e=t.detail)}catch{}throw new s(e,a.status,"http")}try{return await a.json()}catch{throw new s("Invalid response payload.",a.status,"invalid_response")}}function u(){return t.default.env.NEXT_PUBLIC_API_BASE_URL||"https://api.nine20.net"}function o(e,t,r){return e||t?e&&t?`${e} (${t})`:e||t||r||"":r??""}function d({dict:e,lang:t}){let[n,d]=(0,a.useState)("checking"),[m,c]=(0,a.useState)(!1),[h,x]=(0,a.useState)(""),[b,p]=(0,a.useState)(null),[j,v]=(0,a.useState)(()=>({birthYear:"",birthMonth:"",birthDay:"",gender:"M",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Seoul",isLunar:!1,isLeapMonth:!1,birthHour:"",birthMinute:""}));(0,a.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await i(u());if(!e)return;d(t?"available":"unavailable")}catch{if(!e)return;d("unavailable")}})(),()=>{e=!1}},[]);let y=(0,a.useMemo)(()=>b?.ohaeng_summary?[{key:"mok",label:e.sajuPreview.result.mok,value:b.ohaeng_summary.mok??0},{key:"hwa",label:e.sajuPreview.result.hwa,value:b.ohaeng_summary.hwa??0},{key:"to",label:e.sajuPreview.result.to,value:b.ohaeng_summary.to??0},{key:"geum",label:e.sajuPreview.result.geum,value:b.ohaeng_summary.geum??0},{key:"su",label:e.sajuPreview.result.su,value:b.ohaeng_summary.su??0}]:[],[e,b]),g=async r=>{if(r.preventDefault(),!j.birthYear||!j.birthMonth||!j.birthDay||!j.gender||!j.timezone)return void x(e.sajuPreview.errors.required);x(""),c(!0);try{let e=await l(u(),{birth_year:Number(j.birthYear),birth_month:Number(j.birthMonth),birth_day:Number(j.birthDay),gender:j.gender,timezone:j.timezone,is_lunar:j.isLunar,is_leap_month:j.isLeapMonth,birth_hour:j.birthHour?Number(j.birthHour):null,birth_minute:j.birthMinute?Number(j.birthMinute):null},t);p(e)}catch(t){if(p(null),t instanceof s&&("http"!==t.type||429===t.status||(t.status??0)>=500))return void d("unavailable");x(t instanceof Error?t.message:e.sajuPreview.errors.requestFailed)}finally{c(!1)}};return"checking"===n?(0,r.jsx)("div",{className:"rounded-2xl border border-border/60 bg-midnight/50 p-8 text-text-secondary",children:e.sajuPreview.status.checking}):"unavailable"===n?(0,r.jsx)("div",{className:"rounded-2xl border border-amber-400/40 bg-amber-400/10 p-8 text-amber-100",children:e.sajuPreview.status.unavailable}):(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)("form",{onSubmit:g,className:"rounded-2xl border border-border/60 bg-midnight/50 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-text-primary",children:e.sajuPreview.form.title}),(0,r.jsx)("p",{className:"mt-2 text-sm text-text-secondary",children:e.sajuPreview.form.description}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,r.jsxs)("label",{className:"text-sm text-text-secondary",children:[e.sajuPreview.form.birthYear,(0,r.jsx)("input",{value:j.birthYear,onChange:e=>v(t=>({...t,birthYear:e.target.value})),required:!0,type:"number",min:1900,max:2100,className:"mt-1 w-full rounded-lg border border-border bg-black/20 px-3 py-2 text-text-primary outline-none focus:border-neon-purple"})]}),(0,r.jsxs)("label",{className:"text-sm text-text-secondary",children:[e.sajuPreview.form.birthMonth,(0,r.jsx)("input",{value:j.birthMonth,onChange:e=>v(t=>({...t,birthMonth:e.target.value})),required:!0,type:"number",min:1,max:12,className:"mt-1 w-full rounded-lg border border-border bg-black/20 px-3 py-2 text-text-primary outline-none focus:border-neon-purple"})]}),(0,r.jsxs)("label",{className:"text-sm text-text-secondary",children:[e.sajuPreview.form.birthDay,(0,r.jsx)("input",{value:j.birthDay,onChange:e=>v(t=>({...t,birthDay:e.target.value})),required:!0,type:"number",min:1,max:31,className:"mt-1 w-full rounded-lg border border-border bg-black/20 px-3 py-2 text-text-primary outline-none focus:border-neon-purple"})]}),(0,r.jsxs)("label",{className:"text-sm text-text-secondary",children:[e.sajuPreview.form.gender,(0,r.jsxs)("select",{value:j.gender,onChange:e=>v(t=>({...t,gender:e.target.value})),className:"mt-1 w-full rounded-lg border border-border bg-black/20 px-3 py-2 text-text-primary outline-none focus:border-neon-purple",children:[(0,r.jsx)("option",{value:"M",children:e.sajuPreview.form.genderMale}),(0,r.jsx)("option",{value:"F",children:e.sajuPreview.form.genderFemale})]})]})]}),(0,r.jsxs)("label",{className:"mt-4 block text-sm text-text-secondary",children:[e.sajuPreview.form.timezone,(0,r.jsx)("input",{value:j.timezone,onChange:e=>v(t=>({...t,timezone:e.target.value})),required:!0,className:"mt-1 w-full rounded-lg border border-border bg-black/20 px-3 py-2 text-text-primary outline-none focus:border-neon-purple"}),(0,r.jsx)("span",{className:"mt-1 block text-xs text-text-muted",children:e.sajuPreview.form.hint})]}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[(0,r.jsxs)("label",{className:"text-sm text-text-secondary",children:[e.sajuPreview.form.birthHour,(0,r.jsx)("input",{value:j.birthHour,onChange:e=>v(t=>({...t,birthHour:e.target.value})),type:"number",min:0,max:23,className:"mt-1 w-full rounded-lg border border-border bg-black/20 px-3 py-2 text-text-primary outline-none focus:border-neon-purple"})]}),(0,r.jsxs)("label",{className:"text-sm text-text-secondary",children:[e.sajuPreview.form.birthMinute,(0,r.jsx)("input",{value:j.birthMinute,onChange:e=>v(t=>({...t,birthMinute:e.target.value})),type:"number",min:0,max:59,className:"mt-1 w-full rounded-lg border border-border bg-black/20 px-3 py-2 text-text-primary outline-none focus:border-neon-purple"})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[(0,r.jsx)("input",{checked:j.isLunar,onChange:e=>v(t=>({...t,isLunar:e.target.checked})),type:"checkbox"}),e.sajuPreview.form.isLunar]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[(0,r.jsx)("input",{checked:j.isLeapMonth,onChange:e=>v(t=>({...t,isLeapMonth:e.target.checked})),type:"checkbox"}),e.sajuPreview.form.isLeapMonth]})]}),h?(0,r.jsx)("p",{className:"mt-4 text-sm text-red-300",children:h}):null,(0,r.jsx)("button",{disabled:m,type:"submit",className:"mt-6 inline-flex rounded-full bg-gradient-to-r from-neon-purple to-neon-blue px-6 py-3 text-sm font-semibold text-white disabled:opacity-60",children:m?e.sajuPreview.form.submitting:e.sajuPreview.form.submit})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-border/60 bg-midnight/50 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-text-primary",children:e.sajuPreview.result.title}),b?(0,r.jsxs)("div",{className:"mt-4 space-y-4 text-sm text-text-secondary",children:[(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"text-text-muted",children:[e.sajuPreview.result.animal,":"]})," ",(0,r.jsx)("span",{className:"text-text-primary",children:b.animal})]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"text-text-muted",children:[e.sajuPreview.result.gender,":"]})," ",(0,r.jsx)("span",{className:"text-text-primary",children:b.gender})]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"text-text-muted",children:[e.sajuPreview.result.birthInfo,":"]})," ",(0,r.jsx)("span",{className:"text-text-primary",children:b.birth_info?.solar?`${b.birth_info.solar.year}-${b.birth_info.solar.month}-${b.birth_info.solar.day}`:e.sajuPreview.result.none})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-text-muted",children:e.sajuPreview.result.pillars}),(0,r.jsxs)("ul",{className:"mt-2 space-y-1 text-text-primary",children:[(0,r.jsxs)("li",{children:[e.sajuPreview.result.year,":"," ",o(b.pillars.year?.name,b.pillars.year?.hanja,e.sajuPreview.result.none)]}),(0,r.jsxs)("li",{children:[e.sajuPreview.result.month,":"," ",o(b.pillars.month?.name,b.pillars.month?.hanja,e.sajuPreview.result.none)]}),(0,r.jsxs)("li",{children:[e.sajuPreview.result.day,":"," ",o(b.pillars.day?.name,b.pillars.day?.hanja,e.sajuPreview.result.none)]}),(0,r.jsxs)("li",{children:[e.sajuPreview.result.hour,":"," ",o(b.pillars.hour?.name,b.pillars.hour?.hanja,e.sajuPreview.result.none)]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-text-muted",children:e.sajuPreview.result.ohaeng}),(0,r.jsx)("ul",{className:"mt-2 grid grid-cols-2 gap-2 text-text-primary",children:y.map(e=>(0,r.jsxs)("li",{children:[e.label,": ",e.value]},e.key))})]})]}):(0,r.jsx)("p",{className:"mt-4 text-sm text-text-secondary",children:e.sajuPreview.form.submit})]})]})}e.s(["default",()=>d],53555)}]);